<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        @keyframes ani1{
            from{
                opacity: 0;
            }

            to{
                opacity: 1;
            }
        }
    </style>

    <script>
        var img;
        var cnt = 0;
        var arr = ['imgs/index.png', 'imgs/index2.png', 'imgs/index3.png'];

        var prv, nxt;
        var timout;
        function loopImg(){
            nxt.click();
        }

        var div;

        window.onload = function(){
            div = document.querySelector('div');

            div.outerHTML = '<div></div><a href="#">prev </a><a href="#">next</a>';
            div = document.querySelector('div');
            div.innerHTML = '<img src="'+arr[cnt]+'">';
            
            prv = document.querySelectorAll('a')[0];
            nxt = document.querySelectorAll('a')[1];
            prv.onclick = prvImg;
            nxt.onclick = nxtImg;

            // return false를 통한 기본기능 취소가 안됨
            // 기본기능 = a태그.. url 뒤에 href 붙이는거 취소
            // return false 는 level 2 에서만 동작
            // 함수 두 개 다 아래처럼 만들면 사용 가능
            // function nxtImg(e){
            //     e.preventDefault(); // 기본기능 취소(level 1~3)
            //     실행문 어쩌구
            // }
            //prv.addEventListener('click', prvImg);
            //nxt.addEventListener('click', nxtImg);

            img = document.querySelector('div>img');

            timout = setTimeout(loopImg, 3000);
        };

        function prvImg(){
            cnt--;
            if(cnt < 0) cnt = arr.length-1;
            img.src = arr[cnt];

            clearTimeout(timout);
            timout=setTimeout(loopImg, 3000);

            return false;
        }

        function nxtImg(){
            cnt++;
            if(cnt == arr.length) cnt = 0;
            
            // div.innerHTML = '<img src="'+arr[cnt]+'">';
            // img = document.querySelector('div>img');
            // img.style.animationDuration='2s';
            // img.style.animationName='ani1';

            //img.src = arr[cnt];

            clearTimeout(timout);
            timout=setTimeout(loopImg, 3000);

            return false;
        }
    </script>
</head>
<body>
    <div>

    </div>
</body>
</html>